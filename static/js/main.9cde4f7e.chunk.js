(this["webpackJsonpdisaster-message"]=this["webpackJsonpdisaster-message"]||[]).push([[0],{26:function(e,t,a){e.exports=a(56)},31:function(e,t,a){},4:function(e,t,a){e.exports={"item-box":"Disaster_item-box__DHSEJ",title:"Disaster_title__3rmcc","create-date":"Disaster_create-date__3aZk3","location-name":"Disaster_location-name__JKmPg",msg:"Disaster_msg__39dll"}},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),s=(a(31),a(3)),i=a.n(s),l=a(7),u=a(25),m=a(5),d=a(22),g=function(e){return{type:"GET_MESSAGE",data:e}},p={loading:!1,data:[],error:!1,pageNo:1};var f=a(23),v=a.n(f),E=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://apis.data.go.kr/1741000/DisasterMsg2/getDisasterMsgList?ServiceKey=".concat("MpTTK5tgzlmZcNG%2BbB%2Bs0iuaIKortq8%2F1gtsS%2BEEdA8F07g3BngFnTX0Q2ZNNaz8ogDKjZ4XmgawC5Rwr1OlaA%3D%3D","&pageNo=").concat(t,"&numOfRows=50&type=json&flag=y/"),e.next=3,v.a.get(a);case 3:return n=e.sent,console.log(n.status),e.abrupt("return",n.data.DisasterMsg[1].row);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=a(4),b=a.n(_);function h(e){var t=e.location_name,a=e.create_date;return r.a.createElement("div",{className:b.a.title},r.a.createElement("div",{className:b.a["create-date"]},a),r.a.createElement("div",{className:b.a["location-name"]},t))}function w(e){var t=e.msg;return r.a.createElement("div",{className:b.a.msg},t)}var N=function(e){return r.a.createElement("div",{className:b.a["item-box"]},r.a.createElement(h,{location_name:e.location_name,create_date:e.create_date}),r.a.createElement(w,{msg:e.msg}))},O=function(e){var t=e.value.map((function(e){return e.map((function(e,t){return r.a.createElement(N,Object.assign({},e,{key:t}))}))}));return r.a.createElement(r.a.Fragment,null,t)},j=a(8),D=a.n(j),x=function(){var e=Object(m.c)((function(e){return e.disaster})),t=(e.loading,e.data),a=e.pageNo,c=(e.error,Object(n.useState)("")),o=Object(u.a)(c,2),s=o[0],d=o[1],p=Object(m.b)(),f=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(a);case 2:t=e.sent,p(g(t)),console.log(t);case 5:case"end":return e.stop()}}),e)}))),[p]);Object(n.useEffect)((function(){window.addEventListener("scroll",v,!0)}),[]),Object(n.useEffect)((function(){f()}),[f]);var v=function(){var e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=Math.max(document.documentElement.scrollTop,document.body.scrollTop),a=document.documentElement.clientHeight;console.log(e),console.log(t+a),Math.round(t+a)===e&&(console.log("\ud398\uc774\uc9c0 \ub05d"),f())},_=Object(n.useCallback)((function(e){d(e.target.value)}),[d]);return r.a.createElement("div",{className:D.a.list},0===t.length?"\ub85c\ub529\uc911\uc785\ub2c8\ub2e4":function(){var e=t.map((function(e,t){return e.filter((function(e){return-1!==e.location_name.indexOf(s)}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:D.a.input,type:"text",placeholder:"\uc9c0\uc5ed\uc744 \uac80\uc0c9\ud558\uc138\uc694",value:s,onChange:_}),r.a.createElement(O,{value:e,pageNo:a}),r.a.createElement("div",{className:D.a.btn,onClick:f},"\ub354\ubcf4\uae30"))}())};var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(2),M=Object(y.combineReducers)({disaster:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MESSAGE":var a=t.data;return Object(d.a)(e,(function(e){e.data.push(a),e.pageNo=e.pageNo+1,e.loading=!1,e.error=!1}));default:return e}}}),S=a(24),B=Object(y.createStore)(M,Object(S.composeWithDevTools)());o.a.render(r.a.createElement(m.a,{store:B},r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports={list:"Disaster_list__2JDcq",input:"Disaster_input__1XxI4",btn:"Disaster_btn__3dYB3"}}},[[26,1,2]]]);
//# sourceMappingURL=main.9cde4f7e.chunk.js.map